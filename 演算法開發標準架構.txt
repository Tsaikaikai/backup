📋 演算法開發標準架構 (Standard Framework Specification)

1. 核心命名與結構規範

命名空間 (Namespace)：應依據演算法功能定義，如 ShapeCompareAlgorithm。

類別命名 (Class Name)：使用 PascalCase 動詞或名詞組合，如 ShapeComparer。

區域劃分 (#region)：程式碼必須至少包含以下三個區域：

#region ConfigData：定義參數模型。

#region MainFunction：對外執行的接口。

#region PrivateTools：內部的輔助運算邏輯。

2. 配置分離模組 (Config Isolation)

獨立類別：必須建立專屬的 Config 類別，確保參數與邏輯分離。

UI 友善屬性：

使用 [Category] 定義參數所屬群組（如：1.Alignment、2.Detection）。

使用 [DisplayName] 定義顯示名稱，方便平台端 PropertyGrid 自動生成介面。

標準介面：必須實作 LoadConfig(string path) 與 SaveConfig(string path)，支援 XML 或 JSON 序列化。

3. 主執行方法定義 (The Execute Interface)

方法命名：統一使用 public bool Execute(...) 作為主要調用入口。

回傳值 (bool)：代表演算法「流程」是否完整走完。

true：執行順利結束，輸出參數有效。

false：執行中途異常或參數錯誤。

參數排序：

輸入參數：影像（Mat）、ROI 等必需資料。

輸出參數 (out)：開發者根據需求自定義。數量與類型可依需求自訂（如 out Mat result, out double score 等）。

4. 資源與異常管理 (Resources & Exception)

Out 參數初始化：在 Execute 方法的第一行（或 try 塊開頭），必須初始化所有 out 參數。

記憶體管理：

演算法類別必須實作 IDisposable 介面。

所有非託管資源（如 OpenCV 的 Mat）必須在 finally 塊中呼叫 Dispose()，以防止記憶體洩漏。

例外處理：使用 try...catch...finally 結構。捕捉到的異常應包裝後用throw new Exception拋出帶回給平台端。

5. 程式碼註解與 AI 友善標籤

XML 註解：每個對外方法必須包含 <summary>、<param> 與 <returns> 說明。

邏輯註解：關鍵流程請標註 // Step 1: ...、// Step 2: ...，這有助於 AI 理解邏輯順序並提高後續維護效率。